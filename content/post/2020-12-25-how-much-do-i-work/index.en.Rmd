---
title: How much do I work and what do I do when I'm working?
author: Sam Zipper
date: '2020-12-25'
slug: how-much-do-i-work
categories: []
tags: []
subtitle: ''
summary: 'An analysis of my 2019-2020 work habits.'
authors: []
lastmod: '2020-12-26T13:14:54-06:00'
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
---
# Motivation
Seems like every few months some random academic tweets about how they work a lot, and then other people tweet about how they are doing fine despite working less than the original person. I've never bothered to participate in these conversations because I don't know how much I work, and also people rarely seem to have any actual data to support their claims about work (or lack thereof). So, I collected data for a couple years to try and answer two questions:
 1. How much do I work?
 2. When I do work, how do I spend my time?
The years analyzed (January 2019 - December 2020) had a number of important personal and professional transitions including going from a postdoc to a PI at a new institution (August 2019), working from home due to COVID (March 2020), and having our second kid (June 2020), so I also decided to look into whether my working time or activities changed through time.

I'm hoping to use this analysis to develop some data-driven resolutions for how to improve my work-life balance in 2021. 

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(lubridate)
library(patchwork)

## ggplot theme
windowsFonts(Arial=windowsFont("TT Arial"))
theme_scz <- function(...){
  theme_bw(base_size=10, base_family="Arial") + 
    theme(
      text=element_text(color="black"),
      plot.title=element_text(face="bold", size=rel(1)),
      axis.title=element_text(face="bold", size=rel(1)),
      axis.text=element_text(size=rel(1)),
      strip.text=element_text(size=rel(1)),
      legend.title=element_text(face="bold", size=rel(1)),
      legend.text=element_text(size=rel(1)),
      panel.grid=element_blank(),
      plot.margin=unit(c(1,1,1,1), "mm"),
      strip.background=element_blank())
}

theme_set(theme_scz())

# color palette
col.cat.grn <- "#3cb44b"   # green
col.cat.yel <- "#ffe119"   # yellow
col.cat.org <- "#f58231"   # orange
col.cat.red <- "#e6194b"   # red
col.cat.blu <- "#0082c8"   # blue
col.gray <- "gray65"       # gray for annotation lines, etc

# important dates
date_new_job <- ymd("2019-08-19")
date_covid <- ymd("2020-03-16")
date_baby <- ymd("2020-06-29")
dates_all <- as.POSIXct(c(date_new_job, date_covid, date_baby))
```

First, let's load our data. I've been tracking my work at 30-minute intervals for all of [2019](https://docs.google.com/spreadsheets/d/1O4tB-IDLZUqP1I2ECJ9JnBOEDbQEoOwNLbbcBjrV4Tk/edit?usp=sharing) and [2020](https://docs.google.com/spreadsheets/d/1I4kUeZEEtup1e7Wd3PSqfBpaHyK6ntcL18Dz2zYSCfs/edit#gid=1890047702), and wrote [a simple script to grab the data off Google Docs and tidy it up](https://github.com/samzipper/SelfAnalysis/blob/master/WorkTimeAnalysis_CollectData.R). So, all we have to do is load the CSV file for each year and combine them. It's a pretty simple tibble with 5 columns: 
 - `Time` = time of day, at 30-min intervals.
 - `Day` = day of the week.
 - `Activity` = what I was doing for each half hour; more details on this later.
 - `Daytype` =  what sort of day it was (I categorized days as work, weekend, day off, half day, or conference).
 - `week_start_date` = the date for the Monday in that week.

```{r, include=FALSE}
# load 2019 and 2020 data and combine
all_weeks_19 <- read_csv("https://raw.github.com/samzipper/SelfAnalysis/master/WorkTimeAnalysis_Hours_2019.csv", col_types = "ccccT")
all_weeks_20 <- read_csv("https://raw.github.com/samzipper/SelfAnalysis/master/WorkTimeAnalysis_Hours_2020.csv", col_types = "ccccT")
all_weeks <- 
  dplyr::bind_rows(all_weeks_19, all_weeks_20) %>% 
  subset(!is.na(Time))

# set factors for plotting
all_weeks$Day <- factor(all_weeks$Day, levels = c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"))
all_weeks$Time <- factor(all_weeks$Time, levels = unique(all_weeks$Time))
```

# How much do I work?
Answering the first question (How much do I work?) is pretty simple; I can just add up all the hours I worked. I sliced the data a few different ways.

```{r, include=FALSE}
# lump 'Travel' with 'Not Work' because I usually sleep on planes, and if I was working on the plane I coded it as such
all_weeks$Activity[all_weeks$Activity == "travel"] <- "Not Work"

# count hours work
hrs_worked <- sum(all_weeks$Activity != "Not Work")*0.5  # data is at half-hour intervals
n_weeks <- length(unique(all_weeks$week_start_date))
```

Over the course of the two years, I worked `r hrs_worked` hours, or an average of `r round(hrs_worked/n_weeks, 1)` hours per week - pretty close to the standard 40 hr work week. Sounds pretty good! Until, of course, you consider the fact that I took some vacations during this time, and also was on part-time leave for 3 months with the new baby, so I would have expected the average to be a bit lower.

```{r, include=FALSE}
# summarize by week
weekly_hrs <- 
  all_weeks %>% 
  dplyr::group_by(week_start_date) %>% 
  dplyr::summarize(hours_worked = sum(Activity != "Not Work")*0.5)

# median and mode
getmode <- function(v) {
   uniqv <- unique(v)
   uniqv[which.max(tabulate(match(v, uniqv)))]
}
median_hrs_wk <- median(weekly_hrs$hours_worked)
mode_hrs_wk <- getmode(weekly_hrs$hours_worked)

p_weeklyhrs_col <- 
  ggplot(weekly_hrs, aes(x = week_start_date, y = hours_worked)) +
  geom_col(color = NA, fill = col.cat.blu) +
  scale_x_datetime(name = "Week", expand = c(0, 0)) +
  scale_y_continuous(name = "Hours Worked in Week") +
  geom_hline(yintercept = 40, color = col.gray) +
  geom_vline(xintercept = dates_all, color = col.cat.red)

p_weeklyhrs_hist <- 
  ggplot(weekly_hrs, aes(x = hours_worked)) +
  geom_histogram(breaks = seq(20, 80, 2.5), color = NA, fill = col.cat.blu) +
  scale_x_continuous(name = "Hours Worked in Week", expand = c(0, 0)) +
  scale_y_continuous(name = "Number of Weeks")
```
Let's see how the hour count varies week-to-week:
`r p_weeklyhrs_col`
Pretty consistent overall, fluctuating around 40 +/- 5 hrs, with a median of `r median_hrs_wk` hours and a mode of `r mode_hrs_wk` hours. The three vertical red lines correspond to starting my new job (August 2019), switching to work from home (March 2020), and the new baby (June 2020). Only the new baby seemed affect hours worked (we'll look at allocation of time later), as I went on partial leave for 12 weeks.

There are a few outliers on the high end: 9 weeks in the past two years where I worked more than 50 hours. Cross-referencing to my calendar reveals that all of those are weeks where I was away from home for a conference, workshop, or field work for at least part of the week.

So, it's safe to say that **in a typical week I work between 40-45 hours**.

I also noticed that there are no weeks with 0 hours worked, and the least I worked in a week was `r min(weekly_hrs$hours_worked)` hours. This seems problematic. 

Now, let's take a look at the daily data.

```{r, include=FALSE}
# let's make a column for the actual date
day_to_number <- tibble(Day = c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"),
                        DayNum = seq(0,6))
all_weeks <-  
  dplyr::left_join(all_weeks, day_to_number, by = "Day") %>% 
  dplyr::mutate(date = week_start_date + days(DayNum))

# summarize by day
daily_hrs <- 
  all_weeks %>% 
  dplyr::group_by(date, Day, week_start_date, Daytype) %>% 
  dplyr::summarize(hours_worked = sum(Activity != "Not Work")*0.5) %>% 
  dplyr::mutate(hours_worked_cut = cut(hours_worked, c(0, 0.25, 2, 6, 9, 24), include.lowest = T,
                                       labels = c("0", "0.5 - 2", "2.5 - 6", "6.5 - 9", "> 9.5")))

daily_hrs$Day <- factor(daily_hrs$Day, levels = c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"))

# calculate work hours and days
work_hours <- sum(daily_hrs$hours_worked[daily_hrs$Daytype != "conference"])
work_days <- sum(daily_hrs$Daytype == "work") + sum(daily_hrs$Daytype == "half day")*0.5

weekend_hours <- sum(daily_hrs$hours_worked[daily_hrs$Daytype == "weekend"])
weekend_days <- sum(daily_hrs$Daytype == "weekend")
off_days <- sum(daily_hrs$Daytype == "day off")
nowork_days <- sum(daily_hrs$hours_worked == 0)

p_dailyhrs_col <- 
  ggplot(daily_hrs, aes(x = date, y = hours_worked, fill = Daytype)) +
  geom_col(color = NA) +
  scale_x_datetime(name = "Day", expand = c(0, 0)) +
  scale_y_continuous(name = "Hours Worked") +
  scale_fill_manual(name = "Day Type", values = c("conference" = col.cat.yel,
                                                  "weekend" = col.cat.blu,
                                                  "day off" = col.cat.grn,
                                                  "work" = col.cat.red,
                                                  "half day" = col.cat.org)) +
  geom_hline(yintercept = 8, color = col.gray) +
  geom_vline(xintercept = dates_all, color = "black") +
  theme(legend.position = "bottom")

p_dailyhrs_hist <-
  ggplot(subset(daily_hrs, Daytype != "conference"), aes(x = hours_worked, fill = hours_worked_cut)) +
  geom_histogram(binwidth = 0.5) +
  geom_vline(xintercept = 8, color = "black") +
  scale_x_continuous(name = "Daily Hours Worked", expand = c(0, 0)) +
  scale_y_continuous(name = "Number of Days") +
  scale_fill_manual(name = "Daily Hours Worked",
                    values = c("gray65", "#ffffb2", "#fecc5c", "#fd8d3c", "#e31a1c")) +
  theme(legend.position = c(0, 1),
        legend.justification = c(0, 1),
        legend.background = element_blank())

p_dailyhrs_rast <-
  ggplot(daily_hrs, aes(x = Day, y = week_start_date, fill = hours_worked_cut)) +
  geom_raster() +
  scale_x_discrete(expand = c(0, 0)) +
  scale_y_datetime(name = "Week", expand = c(0, 0)) +
  scale_fill_manual(name = "Daily Hours Worked",
                    values = c("gray65", "#ffffb2", "#fecc5c", "#fd8d3c", "#e31a1c")) +
  theme(legend.position = "bottom")
```
`r p_dailyhrs_col`
Now, we're coloring by the type of day. Pretty clear pattern - usually working right around 8 +/- 1 hours on work days, with the extreme highs mostly driven by conferences/workshops, and lower values on the weekends. This is also evident in a histogram of daily hours works:
`r p_dailyhrs_hist`
Let's break it down to hours per workday to standardize to an 8-hour workday. What I'll do is add up the total number of hours worked (`r work_hours` hours, ignoring conferences) and the total number of work days (`r work_days` days), for a total of `r round(work_hours/work_days, 1)` hours/work day. 

Now, how about that left side of the histogram - less than 75 days with 0 hours worked over the past two years? Yikes. In this time period alone, there were `r weekend_days` weekend days and another `r off_days` days off for holiday, vacation, parental leave, etc., meaning that I actually worked on `r 100*(1-round(nowork_days/(weekend_days+off_days), 1))`% of my days off. Anecdotally, this is true - in the histogram we can see a large cluster of days < 2 hours, which is about the length of my kids' nap time, and I will often sit on the couch and check some emails during weekend naps. This is confirmed by looking at hours worked broken down by day of week:
`r p_dailyhrs_rast`

```{r, include=FALSE}
# to count consecutive days worked/not worked, make a column that is just "0 or not"
daily_hrs$zero <- daily_hrs$hours_worked==0
daily_hrs$zero_counter <- sequence(rle(as.character(daily_hrs$zero))$lengths)

# find max consecutive days worked and not worked
max_days_off <- max(daily_hrs$zero_counter[daily_hrs$zero])
max_days_on <- max(daily_hrs$zero_counter[!daily_hrs$zero])

# now, pretend all <= 2 hour are switched to 0
daily_hrs$le2 <- daily_hrs$hours_worked <= 2
daily_hrs$le2_counter <- sequence(rle(as.character(daily_hrs$le2))$lengths)
max_days_off_le2 <- max(daily_hrs$le2_counter[daily_hrs$le2])
max_days_on_le2 <- max(daily_hrs$le2_counter[!daily_hrs$le2])
```

Doing some quick math, I found that the maximum consecutive days where I worked (`r max_days_on` days, from March 31 to June 3, 2019) was 12x greater than the maximum consecutive days I didn't work at all (`r max_days_off` days, from August 24 to August 31, 2020). This is very bad. 

The low-hanging fruit to resolve this problem is to just eliminate all the quick bits of work I did during nap times, as mentioned above, under the assumption that those tasks (typically responding to emails) can be folded into the regular work week, which would probably be more efficient anyways. To ballpark the potential impact of this, I calculated that if I converted all days where I worked <2 hours to 0s, I would have a maximum of `r max_days_on_le2` consecutive days worked and `r max_days_off_le2` consecutive days off - much more to my liking!

So, to draw some conclusions:
 - I work perhaps a bit over the recommended amount - typically averaging ~5-10% above an 8 hr workday and 40 hr workweek - but nothing extreme.
 - I never put in really long hours unless I am away from home.
 - I don't completely disconnect as much as I should.

So, my resolution from part 1 of the analysis: *quit doing small bits of work on the weekends because the potential detriment (overwork) is likely more than the gain (incremental progress on unimportant things).*

# What do I do when I'm working?
If you'll recall, I had an `Activity` column. I split things up into `r length(unique(all_weeks$Activity))-1` categories:
 - `talking` = things that involved other people... meetings, seminars, zoom calls, etc.
 - `logistics` = stuff that is generally unimportant (but sometimes necessary). emails, expense reports, etc.
 - `research` = what pays the bills - writing, making presentations, data analysis, reading papers, etc.
 - `conference` = anything at a conference/workshop. I define it broadly so it includes going out for meals with colleagues, etc. - basically, any time I am in the presence of other people.
 - `service` = journal or grant reviews, committees, open science stuff, etc.
 - `mentees` = talking to or working with someone who I am mentoring such as a postdoc or student.
 - `field` = field work, including prep and travel. this was a pretty small category so I'm going to lump it in with `research`.

```{r, include=FALSE}
# lump 'field' with 'research'
all_weeks$Activity[all_weeks$Activity=="field"] <- "research"

# drop 'not work'
all_work <- all_weeks[all_weeks$Activity != "Not Work", ]
```